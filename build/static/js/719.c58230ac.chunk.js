"use strict";(self.webpackChunkmetaprops_web=self.webpackChunkmetaprops_web||[]).push([[719],{1719:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(2791),s=t(4713),a=t(4165),i=t(5861),o=t(885),c=t(7689),l=t(9396),u=t(4417),d=t(6030),h=t(5023),f=t(2062),p=t.n(f),m=(t(5429),t(6327)),g=t(184),b=t(7385);function v(e){var n=e.onAddressChanged,t=(0,c.s0)(),s=(0,r.useState)(""),f=(0,o.Z)(s,2),v=f[0],w=f[1],x=(0,d.v9)((function(e){return e.registerUser.currentRole})),k=(0,d.v9)((function(e){return e.registerUser.roleData})),j=(0,d.I0)();function y(){return(y=(0,i.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum.selectedAddress){e.next=11;break}return e.next=3,window.ethereum.request({method:"eth_accounts"});case 3:if(!((n=e.sent).length>0)){e.next=8;break}return t=n[0],w(t),e.abrupt("return");case 8:if(!A()){e.next=11;break}return e.next=11,Z();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return C.apply(this,arguments)}function C(){return(C=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=4;break}p()({text:"Metamask is not installed in your browser",icon:"error",button:"Download Now"}).then((function(e){if(e)return window.location.href="https://metamask.io"})),e.next=8;break;case 4:return e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:n=e.sent,w(n[0]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return"ontouchstart"in window||"onmsgesturechange"in window}(0,r.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){n(v),v&&_()}),[v]);var _=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=k.length>0&&k.filter((function(e){return e.name===x?e._id:""})),console.log("baby",n),S(n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var r,s,i,o,c,d,f,p,g,b,w;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Z)("post","".concat(u.H.registerClient),{wallet_address:v,role_id:Array.isArray(n)?n[0]._id:n});case 2:null!==(o=e.sent)&&void 0!==o&&null!==(r=o.data)&&void 0!==r&&r.success?(j((0,h.dP)(o.data)),d=o.data,f=d.Refreshtoken,p=d.accessToken,localStorage.setItem("refreshToken",f),localStorage.setItem("token",p),localStorage.setItem("userData",JSON.stringify(null===(c=o.data)||void 0===c?void 0:c.data)),t("Creator"===x?"/creator-profile":"/profile"),console.log("hrllo",f)):"Your user Profile has been blocked by the admin Please contact at support@metaprops.io"===(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message)?(0,m.N4)("Profile Blocked!",null===o||void 0===o||null===(g=o.data)||void 0===g?void 0:g.message,"error"):"Your account is deleted by Admin"===(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)?(0,m.N4)("Account Deleted!",null===o||void 0===o||null===(b=o.data)||void 0===b?void 0:b.message,"error"):(0,m.N4)("Wrong User Role!",null===o||void 0===o||null===(w=o.data)||void 0===w?void 0:w.message,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();if(A()){return(0,g.jsx)("section",{class:"main-pannel-sec",children:(0,g.jsx)("div",{class:"container",children:(0,g.jsx)("div",{class:"row mb-3",children:(0,g.jsxs)("div",{class:"col-md-12",children:[(0,g.jsxs)("div",{class:"top-heading-are text-center",children:[(0,g.jsx)("h2",{children:"Sign in to your Wallet"}),(0,g.jsx)("p",{children:"Please log in to the platform using your metamask digital wallet. This will enable to you to begin buying and selling digital architecture."})]}),(0,g.jsx)("div",{class:"banner-button-wrap btn-group-wrapper metamask-btn",children:(0,g.jsxs)("a",{class:"btn btn-block btn-secoundry btn-lg font-weight-medium auth-form-btn",onClick:Z,children:[(0,g.jsx)("img",{src:b})," Continue with Metamask"]})})]})})})})}return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{class:"main-pannel-sec",children:(0,g.jsx)("div",{class:"container",children:(0,g.jsx)("div",{class:"row mb-3",children:(0,g.jsxs)("div",{class:"col-md-12",children:[(0,g.jsxs)("div",{class:"top-heading-are text-center",children:[(0,g.jsx)("h2",{children:"Sign in to your Wallet"}),(0,g.jsx)("p",{children:"Please log in to the platform using your metamask digital wallet. This will enable to you to begin buying and selling digital architecture."})]}),(0,g.jsx)("div",{class:"banner-button-wrap btn-group-wrapper metamask-btn",children:(0,g.jsxs)("a",{class:"btn btn-block btn-secoundry btn-lg font-weight-medium auth-form-btn",onClick:Z,children:[(0,g.jsx)("img",{src:b})," Continue with Metamask"]})})]})})})})})}var w=t(5249);var x=function(){return(0,g.jsxs)("div",{children:[(0,g.jsx)(s.Z,{}),(0,g.jsx)(v,{onAddressChanged:function(e){}}),(0,g.jsx)(w.Z,{})]})}},7385:function(e,n,t){e.exports=t.p+"static/media/meta-icon.540db6c5c7c9985e11f3.png"}}]);
//# sourceMappingURL=719.c58230ac.chunk.js.map