"use strict";(self.webpackChunkmetaprops_web=self.webpackChunkmetaprops_web||[]).push([[410],{6410:function(e,a,n){n.r(a),n.d(a,{default:function(){return D}});var t=n(2791),r=n(4713),l=n(5249),s=n(4165),c=n(5861),o=n(885),i=n(1413),d=n(5429),u=n(2397),m=n(8622),h=(n(2482),n(7341)),v=n(6030),x=n(7689),p=n(1087),f=n(6327),b=n(9396),g=n(4417),j=(n(2426),n(184)),w=n(4248),N=n(7875),y=n(554),k={option:function(e,a){return(0,i.Z)((0,i.Z)({},e),{},{color:"black",margin:"0px",background:"#e8e9e9",":hover":{background:"#4472c7",color:"white"},boxShadow:"none"})},indicatorSeparator:function(){return{border:"none",color:"black"}},dropdownIndicator:function(){return{color:"black",paddingRight:".5em"}},control:function(e,a){return(0,i.Z)((0,i.Z)({},e),{},{background:"#e8e9e9",margin:"10px 0px",border:"0px solid",borderRadius:"0px",outline:"none",boxShadow:"none",height:45,minHeight:45})},menu:function(e,a){return(0,i.Z)((0,i.Z)({},e),{},{background:"#e8e9e9",margin:"5px 0px",borderColor:"#e8e9e9",borderRadius:"0px",padding:"0px"})},singleValue:function(e,a){var n=a.isDisabled?.5:1;return(0,i.Z)((0,i.Z)({},e),{},{opacity:n,transition:"opacity 300ms"})}},S=function(){var e,a,n=(0,v.v9)((function(e){return e.nftDetail.currentNFT})),r=(0,v.v9)((function(e){var a,n,t;return null===e||void 0===e||null===(a=e.registerUser)||void 0===a||null===(n=a.userTokens)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.wallet_address})),l=(0,x.UO)().id,i=((0,x.s0)(),(0,t.useState)(!1)),S=(0,o.Z)(i,2),D=S[0],Z=S[1],C=(0,t.useState)(!1),_=(0,o.Z)(C,2),F=_[0],A=_[1],P=(0,t.useState)("Fixed"),E=(0,o.Z)(P,2),I=E[0],U=E[1],L=(0,t.useState)([{value:"Eth",label:"Eth on Polygon"},{value:"Matic",label:"Matic"}]),M=(0,o.Z)(L,2),T=M[0],V=(M[1],(0,t.useState)("")),z=(0,o.Z)(V,2),B=z[0],R=z[1],q=(0,t.useState)(""),H=(0,o.Z)(q,2),Y=H[0],O=H[1],G=(0,t.useState)(!1),J=(0,o.Z)(G,2),K=J[0],Q=J[1],W=(0,t.useState)([]),X=(0,o.Z)(W,2),$=X[0],ee=X[1],ae=(0,t.useState)(""),ne=(0,o.Z)(ae,2),te=ne[0],re=ne[1],le=(0,t.useState)(""),se=(0,o.Z)(le,2),ce=se[0],oe=se[1],ie=(0,t.useState)({label:"1 day",value:"1 day"}),de=(0,o.Z)(ie,2),ue=de[0],me=de[1],he=(0,t.useState)([{label:"1 day",value:"1 day"},{label:"3 days",value:"3 days"},{label:"1 month",value:"1 month"},{label:"3 months",value:"3 months"},{label:"6 months",value:"6 months"}]),ve=(0,o.Z)(he,2),xe=ve[0],pe=(ve[1],(0,t.useState)("")),fe=(0,o.Z)(pe,2),be=fe[0],ge=fe[1],je=(0,t.useState)(""),we=(0,o.Z)(je,2),Ne=we[0],ye=we[1],ke=(0,t.useState)({}),Se=(0,o.Z)(ke,2),De=Se[0],Ze=Se[1],Ce=function(e){U(e)};(0,t.useEffect)((function(){Fe()}),[]),(0,t.useEffect)((function(){var e=new Date;if("1 day"===(null===ue||void 0===ue?void 0:ue.value)){var a=(new Date).setDate(e.getDate()+1),n=new Date(a),t=e.toLocaleDateString("en-US").split("/"),r=n.toLocaleDateString("en-US").split("/");ge("".concat(t[1],"/").concat(t[0],"/").concat(t[2])),ye("".concat(r[1],"/").concat(r[0],"/").concat(r[2]))}else if("3 days"===(null===ue||void 0===ue?void 0:ue.value)){var l=(new Date).setDate(e.getDate()+3),s=new Date(l),c=e.toLocaleDateString("en-US").split("/"),o=s.toLocaleDateString("en-US").split("/");ge("".concat(c[1],"/").concat(c[0],"/").concat(c[2])),ye("".concat(o[1],"/").concat(o[0],"/").concat(o[2]))}else if("1 month"===(null===ue||void 0===ue?void 0:ue.value)){var i=(new Date).setDate(e.getDate()+30),d=new Date(i),u=e.toLocaleDateString("en-US").split("/"),m=d.toLocaleDateString("en-US").split("/");ge("".concat(u[1],"/").concat(u[0],"/").concat(u[2])),ye("".concat(m[1],"/").concat(m[0],"/").concat(m[2]))}else if("3 months"===(null===ue||void 0===ue?void 0:ue.value)){var h=(new Date).setDate(e.getDate()+90),v=new Date(h),x=e.toLocaleDateString("en-US").split("/"),p=v.toLocaleDateString("en-US").split("/");ge("".concat(x[1],"/").concat(x[0],"/").concat(x[2])),ye("".concat(p[1],"/").concat(p[0],"/").concat(p[2]))}else if("6 months"===(null===ue||void 0===ue?void 0:ue.value)){var f=(new Date).setDate(e.getDate()+180),b=new Date(f),g=e.toLocaleDateString("en-US").split("/"),j=b.toLocaleDateString("en-US").split("/");ge("".concat(g[1],"/").concat(g[0],"/").concat(g[2])),ye("".concat(j[1],"/").concat(j[0],"/").concat(j[2]))}}),[ue]);var _e=function(e,a){console.table({field:e,value:a}),"currency"===e&&R(a),"royality"===e&&(a?Number(a)>100||Number(a)<1?((0,f.N4)("Invalid Value","Please Enter Value Between 1 - 100","error"),O("")):O(Number(a)):O("")),"private"===e&&Q(a),"Address"===e&&ee(a),"amount"===e&&oe(a),"duration"===e&&me(a),"starting_date"===e&&ge(a),"ending_date"===e&&ye(a)},Fe=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var a,n,t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Z)("get","".concat(g.H.getCommision));case 3:null!==(n=e.sent)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.success&&re(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.fees),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,f.N4)("Something went wrong","Internal server error","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var a,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum.isConnected()||!window.ethereum.selectedAddress){e.next=4;break}console.log("Connected"),e.next=6;break;case 4:return(0,f.N4)("Metamask Error","Please connect account in metamask","warning"),e.abrupt("return");case 6:if(+window.ethereum.networkVersion===g.M.chainId){e.next=10;break}return(0,f.N4)("Network Error","Please change your network","error"),window.ethereum.request({method:"eth_requestAccounts",params:[{chainId:"0x13881",rpcUrls:["https://rpc-mumbai.maticvigil.com"],chainName:"Polygon Testnet Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://mumbai.polygonscan.com/"]}]}),e.abrupt("return");case 10:if(!window.ethereum.selectedAddress||window.ethereum.selectedAddress===r){e.next=13;break}return(0,f.N4)("Account Error","Please change your account to ".concat(r),"error"),e.abrupt("return");case 13:if(a={id:l,type:I,metaprops_fees:te,is_private:K?1:0},null!==n&&void 0!==n&&n.creator_addr&&(a.creator_addr=null===n||void 0===n?void 0:n.creator_addr),a.currency=null!==B&&void 0!==B&&B.value?null===B||void 0===B?void 0:B.value:"Eth",!ce){e.next=20;break}a.price=+ce,e.next=22;break;case 20:return(0,f.N4)("Invalid Value","Please Enter Price","error"),e.abrupt("return");case 22:if(Y&&(a.future_royality="".concat(Y,"%")),!(K&&$&&$.length)){e.next=29;break}t=[],$.map((function(e){t.push(e.value.toLowerCase())})),a.private_address=t,e.next=32;break;case 29:if(!K||!$||0!==$.length){e.next=32;break}return(0,f.N4)("Empty Field","Please Enter Address","error"),e.abrupt("return");case 32:if("Auction"!==I){e.next=39;break}if(!ue){e.next=37;break}a.duration=null===ue||void 0===ue?void 0:ue.value,e.next=39;break;case 37:return(0,f.N4)("Invalid Value","Please Select Starting and Ending Date","error"),e.abrupt("return");case 39:"Auction"===I&&(be&&(a.start_date=be),Ne&&(a.end_date=Ne)),Ze(a),Z(!0);case 42:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log("nftDetail",n),console.log("nftDetail payload",De),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("section",{className:"main-pannel-sec",children:[(0,j.jsx)("div",{className:"container",children:(0,j.jsx)("div",{className:"row mb-4",children:(0,j.jsx)("div",{className:"col-md-12",children:(0,j.jsxs)("div",{className:"top-heading-are text-center",children:[(0,j.jsx)("h2",{children:"Sell NFT"}),(0,j.jsx)("p",{children:"Please complete the below information to successfully list your NFT for sale. Choose between fixed or auction based sale strategies and whether to sell to a specified wallet address."})]})})})}),(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsx)("div",{className:"sell-nft-wraaper",children:(0,j.jsxs)("div",{className:"sell-nft-box-wrap",children:[(0,j.jsx)("img",{src:n&&(null===n||void 0===n?void 0:n.preview_image)}),(0,j.jsxs)("div",{className:"sell-nft-name",children:[(0,j.jsx)("h3",{children:n&&(null===n||void 0===n?void 0:n.nft_name)}),(0,j.jsxs)("span",{className:"second-col",children:[(0,j.jsx)("a",{href:"javascript:void(0);",tabIndex:0,children:n&&(null===n||void 0===n?void 0:n.creatorInfo)&&(null===n||void 0===n?void 0:n.creatorInfo.length)&&(null===n||void 0===n||null===(e=n.creatorInfo[0])||void 0===e?void 0:e.name)})," ",(0,j.jsx)("img",{src:w,style:{marginBottom:"3px"}})]})]})]})})})}),(0,j.jsxs)("div",{className:"row mt-4",children:[(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"sell-nft-tab",children:[(0,j.jsx)("h3",{children:"Type"}),(0,j.jsxs)("ul",{className:"nav nav-tabs",children:[(0,j.jsx)("li",{className:"active",children:(0,j.jsx)("a",{"data-toggle":"tab",className:"Fixed"===I?"active":"",onClick:function(){return Ce("Fixed")},children:"Fixed"})}),(0,j.jsx)("li",{children:(0,j.jsx)("a",{"data-toggle":"tab",className:"Auction"===I?"active":"",onClick:function(){return Ce("Auction")},children:"Auction"})})]}),(0,j.jsx)("div",{children:(0,j.jsx)("div",{id:"fixed",className:"tab-pane fade in active pt-3",children:(0,j.jsxs)("form",{className:"profile-wrap-form row",children:[(0,j.jsxs)("div",{className:"form-group col-md-6",style:{zIndex:"136"},children:[(0,j.jsx)("label",{children:"Price"}),(0,j.jsx)("div",{className:"slect-option-wrap",children:(0,j.jsx)(m.ZP,{defaultValue:T[0],value:{value:"Eth",label:"Eth on Polygon"},onChange:function(e){return _e("currency",e)},options:T,isDisabled:!0})})]}),(0,j.jsxs)("div",{className:"form-group col-md-6 sell-nft-blank",children:[(0,j.jsx)("label",{children:"\xa0"}),(0,j.jsx)("input",{type:"text",className:"form-control",placeholder:"",value:ce,onChange:function(e){return _e("amount",e.target.value)}})]}),(0,j.jsxs)("div",{className:"form-group col-md-6",children:[(0,j.jsx)("label",{children:"MetaProps Fee (%)"}),(0,j.jsx)("input",{type:"text",value:"".concat(te),className:"form-control",placeholder:"platform fee",disabled:!0})]}),(0,j.jsxs)("div",{className:"form-group col-md-6",children:[(0,j.jsx)("label",{children:"Creator Future Royalty (%)"}),(0,j.jsx)("input",{type:"text",className:"form-control",placeholder:!0,value:Y,onChange:function(e){return _e("royality",e.target.value)}})]}),"Auction"===I&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"form-group col-md-12",style:{zIndex:"125"},children:[(0,j.jsx)("label",{children:"Duration"}),(0,j.jsx)("div",{className:"slect-option-wrap",children:(0,j.jsx)(m.ZP,{defaultValue:xe&&xe.length&&xe[0],onChange:function(e){return _e("duration",e)},options:xe,styles:k,isSearchable:!1})})]}),(0,j.jsxs)("div",{className:"form-group col-md-6",children:[(0,j.jsx)("label",{children:"Starting Date"}),(0,j.jsx)("input",{type:"text",className:"form-control mb-0",placeholder:"Flat rate of 5%",value:be,onChange:function(e){return _e("starting_date",e.target.value)},disabled:!0}),(0,j.jsx)("i",{className:"fas fa-calendar-week"})]}),(0,j.jsxs)("div",{className:"form-group col-md-6",children:[(0,j.jsx)("label",{children:"Ending Date"}),(0,j.jsx)("input",{type:"text",className:"form-control mb-0",placeholder:"Flat rate of 5%",value:Ne,disabled:!0,onChange:function(e){return _e("ending_date",e.target.value)}}),(0,j.jsx)("i",{className:"fas fa-calendar-week"})]})]}),"Fixed"===I&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"form-group col-md-12",children:(0,j.jsxs)("div",{className:"make-private-wrap",children:[(0,j.jsx)("label",{children:"Make Private"}),(0,j.jsxs)("div",{className:"custom-control custom-switch",children:[(0,j.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customSwitches",checked:K,onChange:function(e){return _e("private",e.target.checked)}}),(0,j.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitches"})]}),K&&(0,j.jsx)("div",{className:"mt-3",children:(0,j.jsx)(h.Z,{isMulti:!0,onChange:function(e){return _e("Address",e)},options:$,placeholder:"Add Address",styles:k,isSearchable:!0})})]})})})]})})})]})}),(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"row sell-nft-tab2",children:[(0,j.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,j.jsxs)("div",{className:"blockchain-box",children:[(0,j.jsx)("span",{children:"Blockchain Preview Image"}),(0,j.jsx)("img",{src:n&&(null===n||void 0===n?void 0:n.preview_image)})]})}),(0,j.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,j.jsxs)("div",{className:"blockchain-box1",children:[(0,j.jsx)("span",{children:"Blockchain Compressed File"}),(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"blockchain-wrap",children:[(0,j.jsx)("img",{src:N}),(0,j.jsxs)("div",{children:[" ",(0,j.jsx)("p",{children:(null===n||void 0===n||null===(a=n.zip_names)||void 0===a?void 0:a.zip_name)||""})]})]})})]})}),(0,j.jsx)("div",{className:"col-md-6 col-sm-6 cancel-btn-wrapper",children:(0,j.jsx)(p.rU,{className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn mt-4",to:"/view-nft/".concat(l),children:"Cancel"})}),(0,j.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,j.jsx)("a",{className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn mt-4",onClick:Ae,children:"Sell"})})]})})]})]})]}),(0,j.jsx)(d.Z,{show:D,onClose:function(){return Z(!1)},children:(0,j.jsx)(u.Z,{showModal:function(){return A(!0)},data:De,royalty:Y})}),(0,j.jsx)(d.Z,{show:F,onClose:function(){return A(!1)},children:(0,j.jsx)("div",{className:"",role:"document",children:(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("div",{className:"modal-body",children:(0,j.jsxs)("div",{className:"modal-inner-area text-center",children:[(0,j.jsx)("h2",{children:"Your item is ready for sale"}),(0,j.jsx)("p",{children:"Thank you for completing the relavant data. Your NFT is now successfully listed."}),(0,j.jsx)("img",{src:y})]})}),(0,j.jsx)("div",{className:"modal-footer",children:(0,j.jsx)("div",{className:"url-link",children:(0,j.jsx)("a",{className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn",to:"/view-nft/".concat(l),tabIndex:0,children:"View NFT"})})})]})})})]})},D=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.Z,{}),(0,j.jsx)(S,{}),(0,j.jsx)(l.Z,{})]})}}}]);
//# sourceMappingURL=410.9cbc7e28.chunk.js.map