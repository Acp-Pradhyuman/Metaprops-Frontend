{"version":3,"file":"static/js/329.39739f3f.chunk.js","mappings":"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","sources":["pages/EditUser/index.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Header from \"../../components/Header\";\nimport HomePageFooter from \"../../components/Home/HomePageFooter\";\n\nimport { setUserData } from \"../../redux/Slice/UserSlice/GetUser\";\nimport { endpoints } from \"../../utils/endpoints\";\nimport { handleApiCall } from \"./../../api/index\";\nimport { PopUp } from \"../../utils/utility\";\n\nconst BLUE_TICK = require(\"../../assets/img/home/blue-check.png\");\nconst EDIT_IMG = require(\"../../assets/img/home/file-type-img1.png\");\n\nconst EditUser = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const userData = useSelector(\n    (state) => state.userInformation.userInformation\n  );\n  const user = useSelector((state) => state.registerUser.userTokens);\n\n  const [name, setName] = useState(userData ? userData?.name : \"\");\n  const [email, setEmail] = useState(userData ? userData?.email : \"\");\n  const [number, setNumber] = useState(\n    userData?.phone_no !== \"\" ? userData?.phone_no : \"+\"\n  );\n  const [occupation, setOccupation] = useState(\n    userData ? userData?.occupation : \"\"\n  );\n\n  const [dob, setDob] = useState(userData ? userData?.date_of_birth : \"\");\n  const [image, setImage] = useState(\"\");\n  const [imagePreview, setImagePreview] = useState(\n    userData ? userData?.display_picture : \"\"\n  );\n\n  const [bannerImage, setBannerImage] = useState(\"\");\n  const [bannerImagePreview, setBannerImagePreview] = useState(\n    userData ? userData.cover_picture : \"\"\n  );\n\n  useEffect(() => {\n    handleGetUserProfile();\n  }, []);\n\n  const handleGetUserProfile = async () => {\n    try {\n      const response = await handleApiCall(\n        \"post\",\n        `${endpoints.getUserProfile}`,\n        {\n          id: user?.data?._id,\n        }\n      );\n      if (response.data.success) {\n        const {\n          cover_picture,\n          date_of_birth,\n          display_picture,\n          email,\n          name,\n          occupation,\n          phone_no,\n        } = response?.data?.data[0] || {};\n        // console.log('-----------', cover_picture);\n        setBannerImagePreview(cover_picture);\n        setImagePreview(display_picture);\n        setName(name);\n        setEmail(email);\n        setNumber(phone_no);\n        setDob(date_of_birth);\n        setOccupation(occupation);\n        // dispatch(setUserData(response?.data?.data)); v\n      }\n    } catch (error) {\n      PopUp(\"Something Went Wrong\", error.response.message, \"error\");\n    }\n  };\n\n  console.log(\"first\", userData);\n  const handleEditUserData = (field, value) => {\n    if (field === \"name\") {\n      setName(value);\n    } else if (field === \"email\") {\n      setEmail(value);\n    } else if (field === \"number\") {\n      setNumber(value);\n    } else if (field === \"occupation\") {\n      setOccupation(value);\n    } else if (field === \"dob\") {\n      setDob(value);\n    } else if (field === \"image\") {\n      let reader = new FileReader();\n      reader.onload = function (e) {\n        setImagePreview(e.target.result);\n      };\n      reader.readAsDataURL(value);\n      setImage(value);\n    } else if (field === \"bannerImage\") {\n      let reader = new FileReader();\n      reader.onload = function (e) {\n        setBannerImagePreview(e.target.result);\n      };\n      reader.readAsDataURL(value);\n      setBannerImage(value);\n    }\n  };\n  const handleClearState = () => {\n    setBannerImage(\"\");\n    setDob(\"\");\n    setEmail(\"\");\n    setImage(\"\");\n    setName(\"\");\n    setNumber(\"\");\n    setOccupation(\"\");\n    setImagePreview(\"\");\n    setBannerImagePreview(\"\");\n  };\n  const handleCancel = () => {\n    navigate(\"/profile\");\n  };\n  const handleEditUser = async () => {\n    let userData = new FormData();\n    if (number) userData.append(\"phone_no\", number);\n    if (name) userData.append(\"name\", name);\n    if (occupation) userData.append(\"occupation\", occupation);\n    if (image) userData.append(\"display_picture\", image);\n    if (bannerImage) userData.append(\"cover_picture\", bannerImage);\n    if (email) userData.append(\"email\", email);\n    if (dob) userData.append(\"date_of_birth\", dob);\n    const response = await handleApiCall(\n      \"put\",\n      `${endpoints.updateUserProfile}`,\n      userData\n    );\n    if (response?.data?.success) {\n      dispatch(setUserData(response?.data?.data));\n      setTimeout(() => {\n        navigate(\"/profile\");\n      });\n    }\n  };\n  return (\n    <>\n      <Header />\n      <section>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-12 p-0 mobile-pd-style\">\n              <div className=\"top-heading-are text-center\">\n                <h2>Edit Profile</h2>\n                <p>\n                  Please complete the below information in order to better\n                  compliment your user profile. Your email address, phone\n                  number, occupation and date of birth are not displayed on your\n                  profile for privacy and security purposes.\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"row mt-4\">\n            <div className=\"col-lg-5 col-md-5\">\n              <form className=\"profile-wrap-form\">\n                <div className=\"form-group form-group-wrap\">\n                  <label>Display name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control placeholder-light\"\n                    // placeholder=\"Donald Sanchez\"\n                    value={name}\n                    onChange={(e) => handleEditUserData(\"name\", e.target.value)}\n                    maxLength={30}\n                  />\n                  {/* <img src={BLUE_TICK} /> */}\n                </div>\n                <div className=\"form-group\">\n                  <label>Email Address</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control placeholder-light\"\n                    maxLength={30}\n                    // placeholder=\"donaldsanchez@email.com\"\n                    value={email}\n                    onChange={(e) =>\n                      handleEditUserData(\"email\", e.target.value)\n                    }\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Phone Number</label>\n                  <span></span>\n                  <input\n                    type=\"text\"\n                    className=\"form-control placeholder-light\"\n                    value={number}\n                    maxLength={16}\n                    onChange={(e) =>\n                      handleEditUserData(\"number\", e.target.value)\n                    }\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Occupation</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control placeholder-light\"\n                    // placeholder=\"Marketing Professional\"\n                    value={occupation}\n                    maxLength={30}\n                    onChange={(e) =>\n                      handleEditUserData(\"occupation\", e.target.value)\n                    }\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Date of Birth</label>\n                  <div className=\"calendar-full\">\n                    <input\n                      type=\"date\"\n                      className=\"form-control bg-transparent placeholder-light\"\n                      placeholder=\"dd/mm/yyyy\"\n                      value={dob}\n                      onChange={(e) =>\n                        handleEditUserData(\"dob\", e.target.value)\n                      }\n                      required=\"required\"\n                    />\n                    <i className=\"fas fa-calendar-week\" />\n                  </div>\n                </div>\n                <div className=\"button-submit-wrap\">\n                  <a\n                    className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\"\n                    onClick={handleEditUser}\n                  >\n                    Save\n                  </a>\n                  <a\n                    className=\"btn btn-block btn-secoundry btn-lg font-weight-medium auth-form-btn\"\n                    onClick={handleCancel}\n                  >\n                    Cancel\n                  </a>\n                </div>\n              </form>\n            </div>\n            <div className=\"col-lg-7 col-md-7 edit-user-update\">\n              <form className=\"profile-wrap-form\">\n                <div className=\"form-group\">\n                  <label>Profile Image</label>\n                  <div className=\"property-details-wrap property-file-type profile-img-border\">\n                    {imagePreview ? (\n                      <div class=\"profilePic\">\n                        <img\n                          id=\"bannerImage\"\n                          src={imagePreview}\n                          alt=\"your image\"\n                        />\n                      </div>\n                    ) : (\n                      <img src={EDIT_IMG} />\n                    )}\n                    <div className=\"edit\">\n                      <i className=\"fas fa-pencil-alt\" />\n                      <input\n                        type=\"file\"\n                        name=\"profile_pic\"\n                        accept=\"image/jpeg, image/bmp, image/png,image/svg\"\n                        onChange={(e) =>\n                          handleEditUserData(\"image\", e.target.files[0])\n                        }\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"form-group mt-4 mb-0\">\n                  <label>Banner Image</label>\n                  <div className=\"display-picture-wrap\">\n                    {bannerImagePreview ? (\n                      <img\n                        id=\"bannerImage\"\n                        src={bannerImagePreview}\n                        alt=\"your banner image\"\n                      />\n                    ) : (\n                      <div className=\"img-wrap\" />\n                    )}\n                    <div className=\"edit\">\n                      <i className=\"fas fa-pencil-alt\" />\n                      <input\n                        type=\"file\"\n                        name=\"profile_pic\"\n                        accept=\"image/jpeg, image/bmp, image/png,image/svg\"\n                        onChange={(e) =>\n                          handleEditUserData(\"bannerImage\", e.target.files[0])\n                        }\n                      />\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n      <HomePageFooter />\n    </>\n  );\n};\n\nexport default EditUser;\n"],"names":["EDIT_IMG","require","dispatch","useDispatch","navigate","useNavigate","userData","useSelector","state","userInformation","user","registerUser","userTokens","useState","name","setName","email","setEmail","phone_no","number","setNumber","occupation","setOccupation","date_of_birth","dob","setDob","image","setImage","display_picture","imagePreview","setImagePreview","bannerImage","setBannerImage","cover_picture","bannerImagePreview","setBannerImagePreview","useEffect","handleGetUserProfile","handleApiCall","endpoints","id","data","_id","response","success","PopUp","message","console","log","handleEditUserData","field","value","reader","FileReader","onload","e","target","result","readAsDataURL","handleEditUser","FormData","append","setUserData","setTimeout","className","type","onChange","maxLength","placeholder","required","onClick","class","src","alt","accept","files"],"sourceRoot":""}