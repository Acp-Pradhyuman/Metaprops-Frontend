"use strict";(self.webpackChunkmetaprops_web=self.webpackChunkmetaprops_web||[]).push([[547],{4547:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var s=t(4165),a=t(5861),i=t(885),r=t(2791),c=t(4713),l=t(5249),o=t(9396),d=t(4417),u=t(6030),v=t(1464),f=t(2426),m=t.n(f),h=t(6327);var p=t.p+"static/media/clock-icon.1f7e4ee586a39869196b4ab7d82f3817.svg",x=t(184),j=function(){var e,n=(0,u.I0)(),t=(0,r.useState)(null),f=(0,i.Z)(t,2),j=f[0],N=f[1],g=(0,r.useState)(10),b=(0,i.Z)(g,2),w=b[0],k=b[1],Z=(0,u.v9)((function(e){return e.allNotifications.allNotifications})),y=(0,u.v9)((function(e){return e.registerUser.userTokens})),C=y&&(null===y||void 0===y?void 0:y.data)&&(null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e._id);(0,r.useEffect)((function(){void 0!==C&&A()}),[]),(0,r.useEffect)((function(){A()}),[w]),(0,r.useEffect)((function(){null!==j&&_(),void 0!==C&&A()}),[j]);var A=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("get","".concat(d.H.getNotification,"?userId=").concat(C,"&limit=").concat(w));case 3:null!==(a=e.sent)&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.success&&n((0,v.Rv)(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,h.N4)("Something Went Wrong",e.t0.response.message,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("post","".concat(d.H.getClearAllNotification,"?userId=").concat(C));case 3:null!==(a=e.sent)&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.success&&n((0,v.Rv)(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,h.N4)("Something Went Wrong",e.t0.response.message,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("post","".concat(d.H.deleteNotification,"?id=").concat(j));case 3:null!==(t=e.sent)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.success&&void 0!==C&&A(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,h.N4)("Something Went Wrong",e.t0.response.message,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Z,{}),(0,x.jsx)("section",{children:(0,x.jsxs)("div",{className:"container",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"top-heading-are",children:[(0,x.jsx)("h2",{children:"Notifications"}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-7",children:(0,x.jsx)("p",{children:"Please see all notifications from Activity on NFTs that you own or have sold."})}),(0,x.jsxs)("div",{className:"col-md-5 privacy-policy-search notificatin-wrap d-flex",children:[(0,x.jsx)("div",{className:"sort-tab-wrap"}),Z&&Z.length>0&&(0,x.jsx)("div",{className:"clear-all-btn",children:(0,x.jsx)("a",{className:"btn btn-block btn-secoundry btn-lg font-weight-medium auth-form-btn",onClick:function(){return W()},children:"Clear All"})})]})]})]})})}),(0,x.jsx)("div",{className:"row mt-4",children:(0,x.jsx)("div",{className:"col-md-12",children:Z&&Z.length>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("ul",{className:"all-notification-list",children:Z.length>0&&Z.map((function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("li",{className:"d-flex read-bead-list",children:[(0,x.jsxs)("div",{className:"notification-wrapper",children:[(0,x.jsx)("a",{href:"javascript:void(0);",children:e.notification_activity}),(0,x.jsx)("span",{children:e.receiver_name}),(0,x.jsx)("p",{children:e.description&&e.description})]}),(0,x.jsxs)("div",{className:"d-flex notification-timing",children:[(0,x.jsx)("img",{src:p}),(0,x.jsx)("span",{children:e.createdAt&&m()(e.createdAt).format("MMMM DD, YYYY HH:mm")})]}),(0,x.jsx)("span",{className:"cross-icon",onClick:function(){return N(e._id)},style:{cursor:"pointer"},children:(0,x.jsx)("i",{className:"fas fa-times"})})]})})}))}),Z&&Z.length>9&&0!==w&&(0,x.jsx)("div",{className:"text-center content-wrap mt-5",children:(0,x.jsx)("a",{className:"btn d-block btn-primary btn-lg font-weight-medium auth-form-btn",onClick:function(){return k(0)},children:"View All"})})]}):""})})]})}),(0,x.jsx)(l.Z,{})]})}}}]);
//# sourceMappingURL=547.9a809012.chunk.js.map