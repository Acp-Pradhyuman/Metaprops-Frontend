{"version":3,"file":"static/js/547.9a809012.chunk.js","mappings":"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","sources":["assets/img/modal/clock-icon.svg","pages/Notification/index.jsx"],"sourcesContent":["var _g, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClockIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"MDI_clock-check-outline\",\n    \"data-name\": \"MDI / clock-check-outline\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 23,\n    height: 23,\n    viewBox: \"0 0 23 23\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Boundary\",\n    fill: \"#141d22\",\n    stroke: \"rgba(0,0,0,0)\",\n    strokeWidth: 1,\n    opacity: 0\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 23,\n    height: 23,\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 22,\n    height: 22,\n    fill: \"none\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_clock-check-outline\",\n    \"data-name\": \"Path / clock-check-outline\",\n    d: \"M22.6,16.375l-4.792,4.792-3.354-3.354L15.9,16.375l1.917,1.917,3.354-3.354L22.6,16.375m-9.967,2.779a3.931,3.931,0,0,1-1.054.1,7.667,7.667,0,1,1,7.667-7.667,3.931,3.931,0,0,1-.1,1.054,5.781,5.781,0,0,1,1.821.575,9.442,9.442,0,0,0,.192-1.629,9.583,9.583,0,1,0-9.583,9.583,8.44,8.44,0,0,0,1.629-.192,5.087,5.087,0,0,1-.575-1.821m2.4-5.558-2.971-1.725V6.792H10.625v5.75l3.354,2.013A5.023,5.023,0,0,1,15.033,13.6Z\",\n    transform: \"translate(-1.042 -0.083)\",\n    fill: \"#4472c7\",\n    stroke: \"#4472c7\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.6\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClockIcon);\nexport default __webpack_public_path__ + \"static/media/clock-icon.1f7e4ee586a39869196b4ab7d82f3817.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport Header from \"../../components/Header\";\nimport HomePageFooter from \"../../components/Home/HomePageFooter\";\nimport { handleApiCall } from \"../../api\";\nimport { endpoints } from \"../../utils/endpoints\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setNotifications } from \"../../redux/Slice/Notifications\";\nimport moment from \"moment\";\nimport { PopUp } from \"../../utils/utility\";\n\nimport ClockImg from \"../../assets/img/modal/clock-icon.svg\";\n\nconst Notification = () => {\n  const dispatch = useDispatch();\n\n  const [deleteId, setDeleteId] = useState(null);\n  const [viewAll, setViewAll] = useState(10);\n\n  const notificationData = useSelector(\n    (state) => state.allNotifications.allNotifications\n  );\n\n  const userInfo = useSelector((state) => state.registerUser.userTokens);\n\n  const userId = userInfo && userInfo?.data && userInfo?.data?._id;\n\n  useEffect(() => {\n    userId !== undefined && handleNotifications();\n  }, []);\n\n  useEffect(() => {\n    handleNotifications();\n  }, [viewAll]);\n\n  useEffect(() => {\n    deleteId !== null && handleDeleteNotification();\n    userId !== undefined && handleNotifications();\n  }, [deleteId]);\n\n  const handleNotifications = async () => {\n    try {\n      const response = await handleApiCall(\n        \"get\",\n        `${endpoints.getNotification}?userId=${userId}&limit=${viewAll}`\n      );\n      if (response?.data?.success) {\n        dispatch(setNotifications(response?.data?.data));\n      }\n    } catch (error) {\n      PopUp(\"Something Went Wrong\", error.response.message, \"error\");\n    }\n  };\n\n  const handleClearAll = async () => {\n    try {\n      const response = await handleApiCall(\n        \"post\",\n        `${endpoints.getClearAllNotification}?userId=${userId}`\n      );\n      if (response?.data?.success) {\n        dispatch(setNotifications(response?.data?.data));\n      }\n    } catch (error) {\n      PopUp(\"Something Went Wrong\", error.response.message, \"error\");\n    }\n  };\n\n  const handleDeleteNotification = async () => {\n    try {\n      const response = await handleApiCall(\n        \"post\",\n        `${endpoints.deleteNotification}?id=${deleteId}`\n      );\n      if (response?.data?.success) {\n        // dispatch(setNotifications(response?.data?.data));\n        // window.location.reload();\n        userId !== undefined && handleNotifications();\n      }\n    } catch (error) {\n      PopUp(\"Something Went Wrong\", error.response.message, \"error\");\n    }\n  };\n  return (\n    <>\n      <Header />\n      <section>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"top-heading-are\">\n                <h2>Notifications</h2>\n                <div className=\"row\">\n                  <div className=\"col-md-7\">\n                    <p>\n                      Please see all notifications from Activity on NFTs that\n                      you own or have sold.\n                    </p>\n                  </div>\n                  <div className=\"col-md-5 privacy-policy-search notificatin-wrap d-flex\">\n                    <div className=\"sort-tab-wrap\"></div>\n                    {notificationData && notificationData.length > 0 && (\n                      <div className=\"clear-all-btn\">\n                        <a\n                          className=\"btn btn-block btn-secoundry btn-lg font-weight-medium auth-form-btn\"\n                          onClick={() => handleClearAll()}\n                        >\n                          Clear All\n                        </a>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row mt-4\">\n            <div className=\"col-md-12\">\n              {notificationData && notificationData.length > 0 ? (\n                <>\n                  <ul className=\"all-notification-list\">\n                    {notificationData.length > 0 &&\n                      notificationData.map((data) => {\n                        return (\n                          <>\n                            <li className=\"d-flex read-bead-list\">\n                              <div className=\"notification-wrapper\">\n                                <a href=\"javascript:void(0);\">\n                                  {data.notification_activity}\n                                </a>\n                                <span>{data.receiver_name}</span>\n                                <p>{data.description && data.description}</p>\n                              </div>\n                              <div className=\"d-flex notification-timing\">\n                                <img src={ClockImg} />\n                                <span>\n                                  {data.createdAt &&\n                                    moment(data.createdAt).format(\n                                      \"MMMM DD, YYYY HH:mm\"\n                                    )}\n                                </span>\n                              </div>\n                              <span\n                                className=\"cross-icon\"\n                                onClick={() => setDeleteId(data._id)}\n                                style={{ cursor: \"pointer\" }}\n                              >\n                                <i className=\"fas fa-times\" />\n                              </span>\n                            </li>\n                          </>\n                        );\n                      })}\n                  </ul>\n                  {notificationData &&\n                    notificationData.length > 9 &&\n                    viewAll !== 0 && (\n                      <div className=\"text-center content-wrap mt-5\">\n                        <a\n                          className=\"btn d-block btn-primary btn-lg font-weight-medium auth-form-btn\"\n                          onClick={() => setViewAll(0)}\n                        >\n                          View All\n                        </a>\n                      </div>\n                    )}\n                </>\n              ) : (\n                \"\"\n                // <h4 className=\"notification-text\" style={{ textAlign: \"center\" }}>\n                //   Notifications will appear here.\n                // </h4>\n              )}\n            </div>\n          </div>\n        </div>\n      </section>\n      <HomePageFooter />\n    </>\n  );\n};\n\nexport default Notification;\n"],"names":["dispatch","useDispatch","useState","deleteId","setDeleteId","viewAll","setViewAll","notificationData","useSelector","state","allNotifications","userInfo","registerUser","userTokens","userId","data","_id","useEffect","undefined","handleNotifications","handleDeleteNotification","handleApiCall","endpoints","response","success","setNotifications","PopUp","message","handleClearAll","Header","className","length","onClick","map","href","notification_activity","receiver_name","description","src","ClockImg","createdAt","moment","format","style","cursor","HomePageFooter"],"sourceRoot":""}