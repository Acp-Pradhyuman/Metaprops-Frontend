{"version":3,"file":"static/js/719.c58230ac.chunk.js","mappings":"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","sources":["components/ConnectMetamask/MetamaskLanding/index.jsx","pages/ConnectMetamask/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n// import Web3 from 'web3';\n// import { toast, ToastContainer } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n\n//Redux\nimport { handleApiCall } from '../../../api';\nimport { endpoints } from '../../../utils/endpoints';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setUserToken } from '../../../redux/Slice/UserSlice/RegisterUser/index';\nimport swal from 'sweetalert';\nimport Modal from '../../commons/Modal/Modal';\nimport { PopUp } from '../../../utils/utility';\n\nconst META_MASK_IMAGE = require('../../../assets/img/meta-icon.png');\n\nexport default function ConnectMetamask({ onAddressChanged }) {\n\tconst navigate = useNavigate();\n\tconst [userAddress, setUserAddress] = useState('');\n\tconst role = useSelector((state) => state.registerUser.currentRole);\n\tconst roleData = useSelector((state) => state.registerUser.roleData);\n\tconst dispatch = useDispatch();\n\n\tconst navigateProfile = () => {\n\t\tif (role === 'Creator') navigate('/creator-profile');\n\t\telse navigate('/profile');\n\t\t// window.location.reload();\n\t};\n\n\tasync function checkIfWalletIsConnected() {\n\t\tif (window.ethereum.selectedAddress) {\n\t\t\tconst accounts = await window.ethereum.request({\n\t\t\t\tmethod: 'eth_accounts'\n\t\t\t});\n\t\t\tif (accounts.length > 0) {\n\t\t\t\tconst account = accounts[0];\n\t\t\t\tsetUserAddress(account);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (isMobileDevice()) {\n\t\t\t\tawait connect();\n\t\t\t}\n\t\t}\n\t}\n\tasync function connect() {\n\t\tif (!window.ethereum) {\n\t\t\tswal({\n\t\t\t\ttext: 'Metamask is not installed in your browser',\n\t\t\t\ticon: 'error',\n\t\t\t\tbutton: 'Download Now'\n\t\t\t}).then((willDelete) => {\n\t\t\t\tif (willDelete) {\n\t\t\t\t\treturn (window.location.href = 'https://metamask.io');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\n\t\t\tconst accounts = await window.ethereum.request({\n\t\t\t\tmethod: 'eth_requestAccounts'\n\t\t\t});\n\t\t\tsetUserAddress(accounts[0]);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tcheckIfWalletIsConnected();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tonAddressChanged(userAddress);\n\t\tif (userAddress) {\n\t\t\tregisterClient();\n\t\t}\n\t}, [userAddress]);\n\n\tfunction isMobileDevice() {\n\t\treturn 'ontouchstart' in window || 'onmsgesturechange' in window;\n\t}\n\tconst registerClient = async () => {\n\t\tlet roleId =\n\t\t\troleData.length > 0 &&\n\t\t\troleData.filter((item) => item.name === role ? item._id  : '');\n\t\t\tconsole.log(\"baby\",roleId)\n\t\t\thandleRegisterClient(roleId)\n\t};\n\tconst handleRegisterClient = async (roleId) => {\n\t\tlet\tresponse = await handleApiCall('post', `${endpoints.registerClient}`, {\n\t\t\twallet_address: userAddress,\n\t\t\trole_id: Array.isArray(roleId) ? roleId[0]._id : roleId\n\t\t});\n\n\t\tif (response?.data?.success) {\n\t\t\tdispatch(setUserToken(response.data));\n\t\t\tconst { Refreshtoken, accessToken } = response.data;\n\t\t\tlocalStorage.setItem('refreshToken', Refreshtoken);\n\t\t\tlocalStorage.setItem('token', accessToken);\n\t\t\tlocalStorage.setItem('userData', JSON.stringify(response.data?.data));\n\t\t\tnavigateProfile();\n\t\t\tconsole.log(\"hrllo\", Refreshtoken)\n\t\t} else if (response?.data?.message === \"Your user Profile has been blocked by the admin Please contact at support@metaprops.io\") {\n\t\t\tPopUp('Profile Blocked!', response?.data?.message, 'error');\n\t\t} else if (response?.data?.message === \"Your account is deleted by Admin\") {\n\t\t\tPopUp('Account Deleted!', response?.data?.message, 'error');\n\t\t}\n\t\telse {\n\t\t\tPopUp('Wrong User Role!', response?.data?.message, 'error');\n\t\t}\n\t}\n\tif (isMobileDevice()) {\n\t\tconst dappUrl = ''; // TODO enter your dapp URL. For example: https://uniswap.exchange. (don't enter the \"https://\")\n\t\tconst metamaskAppDeepLink = 'https://metamask.app.link/dapp/' + dappUrl;\n\t\treturn (\n\t\t\t<section class='main-pannel-sec'>\n\t\t\t\t<div class='container'>\n\t\t\t\t\t<div class='row mb-3'>\n\t\t\t\t\t\t<div class='col-md-12'>\n\t\t\t\t\t\t\t<div class='top-heading-are text-center'>\n\t\t\t\t\t\t\t\t<h2>Sign in to your Wallet</h2>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tPlease log in to the platform using your\n\t\t\t\t\t\t\t\t\tmetamask digital wallet. This will enable to you to begin\n\t\t\t\t\t\t\t\t\tbuying and selling digital architecture.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='banner-button-wrap btn-group-wrapper metamask-btn'>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass='btn btn-block btn-secoundry btn-lg font-weight-medium auth-form-btn'\n\t\t\t\t\t\t\t\t\tonClick={connect}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img src={META_MASK_IMAGE} /> Continue with Metamask\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<section class='main-pannel-sec'>\n\t\t\t\t\t<div class='container'>\n\t\t\t\t\t\t<div class='row mb-3'>\n\t\t\t\t\t\t\t<div class='col-md-12'>\n\t\t\t\t\t\t\t\t<div class='top-heading-are text-center'>\n\t\t\t\t\t\t\t\t\t<h2>Sign in to your Wallet</h2>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tPlease log in to the platform using your\n\t\t\t\t\t\t\t\t\t\tmetamask digital wallet. This will enable to you to begin\n\t\t\t\t\t\t\t\t\t\tbuying and selling digital architecture.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='banner-button-wrap btn-group-wrapper metamask-btn'>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass='btn btn-block btn-secoundry btn-lg font-weight-medium auth-form-btn'\n\t\t\t\t\t\t\t\t\t\tonClick={connect}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img src={META_MASK_IMAGE} /> Continue with Metamask\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport Header from '../../components/Header';\nimport ConnectMetaMask from '../../components/ConnectMetamask/MetamaskLanding';\nimport Footer from '../../components/Home/HomePageFooter';\n\nfunction ConnectMetamask() {\n\treturn (\n\t\t<div>\n\t\t\t<Header />\n\t\t\t<ConnectMetaMask onAddressChanged={(address) => {}} />\n\t\t\t<Footer />\n\t\t</div>\n\t);\n}\n\nexport default ConnectMetamask;\n"],"names":["META_MASK_IMAGE","require","ConnectMetamask","onAddressChanged","navigate","useNavigate","useState","userAddress","setUserAddress","role","useSelector","state","registerUser","currentRole","roleData","dispatch","useDispatch","window","ethereum","selectedAddress","request","method","accounts","length","account","isMobileDevice","connect","swal","text","icon","button","then","willDelete","location","href","useEffect","checkIfWalletIsConnected","registerClient","roleId","filter","item","name","_id","console","log","handleRegisterClient","handleApiCall","endpoints","wallet_address","role_id","Array","isArray","response","data","success","setUserToken","Refreshtoken","accessToken","localStorage","setItem","JSON","stringify","message","PopUp","class","onClick","src","Header","address"],"sourceRoot":""}